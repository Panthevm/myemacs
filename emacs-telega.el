(unless (package-installed-p 'rainbow-identifiers)
  (package-install 'rainbow-identifiers)
  (package-refresh-contents))
(unless (package-installed-p 'emojify)
  (package-install 'emojify)
  (package-refresh-contents))

(add-to-list 'load-path (expand-file-name "libraries/telega.el" (file-name-directory load-file-name)))
(add-to-list 'load-path (expand-file-name "libraries/visual-fill-column" (file-name-directory load-file-name)))
(require 'telega)
(require 'emojify)
(require 'visual-fill-column)
(setq emojify-emoji-set "emojione-v2-22")
(global-emojify-mode)

(setq telega-use-images t)
(setq telega-root-show-avatars t)
(setq telega-sticker-set-download t)
(setq telega-chat-show-deleted-messages-for '(not saved-messages))
(setq telega-sticker-animated-play t)
(setq telega-chat-button-brackets
      '(((type private)    "" "")
	((type basicgroup) "" "")
	((type supergroup) "" "")
	((type channel)    "" "")
	(all               "" "")))
(setq telega-filters-custom
      '(("Main" . main)))
